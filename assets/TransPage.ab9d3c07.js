import{k as N,u as te,_ as Q,j as Fe,b as oe,g as ae,h as ye,e as se,d as ne,f as re,a as le,S as ue,m as Ce,Q as $e,l as xe}from"./QPage.78f76df2.js";import{d as E,c as g,h as ce,o as u,f as F,g as e,t as v,a1 as x,Q as L,a0 as U,j as a,y as B,e as q,l,q as D,k,ai as ie,ab as V,ad as W,ae as J,w as de}from"./index.b71e64ab.js";import{a6 as i,a7 as j,a9 as Y,ap as De,ba as ke,bb as we,ad as Be,ae as _e,af as Ee,ak as H,ag as ze,O as K,R as G,S as X,_ as Z,P as A,bB as Se}from"./index.ec68dfd3.js";import{_ as qe}from"./ButtonGroup.5e99ab46.js";import{t as Re}from"./light.4d742459.js";var Ae=i([j("table",`
 font-size: var(--n-font-size);
 font-variant-numeric: tabular-nums;
 line-height: var(--n-line-height);
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 text-align: left;
 border-collapse: separate;
 border-spacing: 0;
 overflow: hidden;
 background-color: var(--n-td-color);
 border-color: var(--n-merged-border-color);
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 --n-merged-border-color: var(--n-border-color);
 `,[i("th",`
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 text-align: inherit;
 padding: var(--n-th-padding);
 vertical-align: inherit;
 text-transform: none;
 border: 0px solid var(--n-merged-border-color);
 font-weight: var(--n-th-font-weight);
 color: var(--n-th-text-color);
 background-color: var(--n-th-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 border-right: 1px solid var(--n-merged-border-color);
 `,[i("&:last-child",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),i("td",`
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 padding: var(--n-td-padding);
 color: var(--n-td-text-color);
 background-color: var(--n-td-color);
 border: 0px solid var(--n-merged-border-color);
 border-right: 1px solid var(--n-merged-border-color);
 border-bottom: 1px solid var(--n-merged-border-color);
 `,[i("&:last-child",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),Y("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `,[i("tr",[i("&:last-child",[i("td",`
 border-bottom: 0 solid var(--n-merged-border-color);
 `)])])]),Y("single-line",[i("th",`
 border-right: 0px solid var(--n-merged-border-color);
 `),i("td",`
 border-right: 0px solid var(--n-merged-border-color);
 `)]),Y("single-column",[i("tr",[i("&:not(:last-child)",[i("td",`
 border-bottom: 0px solid var(--n-merged-border-color);
 `)])])]),Y("striped",[i("tr:nth-of-type(even)",[i("td","background-color: var(--n-td-color-striped)")])]),De("bottom-bordered",[i("tr",[i("&:last-child",[i("td",`
 border-bottom: 0px solid var(--n-merged-border-color);
 `)])])])]),ke(j("table",`
 background-color: var(--n-td-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `,[i("th",`
 background-color: var(--n-th-color-modal);
 `),i("td",`
 background-color: var(--n-td-color-modal);
 `)])),we(j("table",`
 background-color: var(--n-td-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `,[i("th",`
 background-color: var(--n-th-color-popover);
 `),i("td",`
 background-color: var(--n-td-color-popover);
 `)]))]);const Te=Object.assign(Object.assign({},_e.props),{bordered:{type:Boolean,default:!0},bottomBordered:{type:Boolean,default:!0},singleLine:{type:Boolean,default:!0},striped:Boolean,singleColumn:Boolean,size:{type:String,default:"medium"}});var Pe=E({name:"Table",props:Te,setup(o){const{mergedClsPrefixRef:t,inlineThemeDisabled:s,mergedRtlRef:n}=Be(o),c=_e("Table","-table",Ae,Re,o,t),m=Ee("Table",n,t),d=g(()=>{const{size:C}=o,{self:{borderColor:y,tdColor:h,tdColorModal:f,tdColorPopover:b,thColor:z,thColorModal:S,thColorPopover:$,thTextColor:_,tdTextColor:w,borderRadius:T,thFontWeight:P,lineHeight:I,borderColorModal:M,borderColorPopover:p,tdColorStriped:R,tdColorStripedModal:me,tdColorStripedPopover:ve,[H("fontSize",C)]:ge,[H("tdPadding",C)]:he,[H("thPadding",C)]:fe},common:{cubicBezierEaseInOut:be}}=c.value;return{"--n-bezier":be,"--n-td-color":h,"--n-td-color-modal":f,"--n-td-color-popover":b,"--n-td-text-color":w,"--n-border-color":y,"--n-border-color-modal":M,"--n-border-color-popover":p,"--n-border-radius":T,"--n-font-size":ge,"--n-th-color":z,"--n-th-color-modal":S,"--n-th-color-popover":$,"--n-th-font-weight":P,"--n-th-text-color":_,"--n-line-height":I,"--n-td-padding":he,"--n-th-padding":fe,"--n-td-color-striped":R,"--n-td-color-striped-modal":me,"--n-td-color-striped-popover":ve}}),r=s?ze("table",g(()=>o.size[0]),d,o):void 0;return{rtlEnabled:m,mergedClsPrefix:t,cssVars:s?void 0:d,themeClass:r==null?void 0:r.themeClass,onRender:r==null?void 0:r.onRender}},render(){var o;const{mergedClsPrefix:t}=this;return(o=this.onRender)===null||o===void 0||o.call(this),ce("table",{class:[`${t}-table`,this.themeClass,{[`${t}-table--rtl`]:this.rtlEnabled,[`${t}-table--bottom-bordered`]:this.bottomBordered,[`${t}-table--bordered`]:this.bordered,[`${t}-table--single-line`]:this.singleLine,[`${t}-table--single-column`]:this.singleColumn,[`${t}-table--striped`]:this.striped}],style:this.cssVars},this.$slots)}});const Ie={class:"row q-col-gutter-y-sm"},Me={key:0,class:"col-4"},Ve=e("span",{class:"text-info"},"\u53D1\u52A8\u673A\u53F7\u7801:",-1),Ye={class:"q-ml-sm"},Le={key:1,class:"col-4"},Oe=e("span",{class:"text-info"},"\u8F66\u8F86\u8BC6\u522B\u4EE3\u53F7(VIN):",-1),je={class:"q-ml-sm"},He={class:"col-4"},Ne=e("span",{class:"text-info"},"\u6392\u653E\u9636\u6BB5:",-1),Qe={class:"q-ml-sm"},Ue={class:"col-4"},We=e("span",{class:"text-info"},"\u8F66\u961F\u540D\u79F0:",-1),Je={class:"q-ml-sm"},Ke={key:2,class:"col-4"},Ge=e("span",{class:"text-info"},"\u73AF\u4FDD\u767B\u8BB0\u7F16\u7801:",-1),Xe={class:"q-ml-sm"},Ze={key:3,class:"col-4"},et=e("span",{class:"text-info"},"\u673A\u68B0\u73AF\u4FDD\u4EE3\u7801:",-1),tt={class:"q-ml-sm"},ot={key:4,class:"col-4"},at=e("span",{class:"text-info"},"\u751F\u4EA7\u65E5\u671F:",-1),st={class:"q-ml-sm"},nt={key:5,class:"col-4"},rt=e("span",{class:"text-info"},"\u6CE8\u518C\u65E5\u671F:",-1),lt={class:"q-ml-sm"},ut={class:"row q-col-gutter-sm q-mt-md"},ct={class:"text-center text-info"},pe=E({__name:"CarInfo",props:{car:{}},setup(o){return(t,s)=>{const n=N;return u(),F(L,null,[e("div",Ie,[t.car.ein?(u(),F("div",Me,[Ve,e("span",Ye,v(t.car.ein),1)])):x("",!0),t.car.vin?(u(),F("div",Le,[Oe,e("span",je,v(t.car.vin),1)])):x("",!0),e("div",He,[Ne,e("span",Qe,v(t.car.stage),1)]),e("div",Ue,[We,e("span",Je,v(t.car.fleet),1)]),t.car.hin?(u(),F("div",Ke,[Ge,e("span",Xe,v(t.car.hin),1)])):x("",!0),t.car.jin?(u(),F("div",Ze,[et,e("span",tt,v(t.car.jin),1)])):x("",!0),t.car.date_produce?(u(),F("div",ot,[at,e("span",st,v(t.car.date_produce),1)])):x("",!0),t.car.date_register?(u(),F("div",nt,[rt,e("span",lt,v(t.car.date_register),1)])):x("",!0)]),e("div",ut,[(u(!0),F(L,null,U(t.car.images,c=>(u(),F("div",{class:"col-auto",key:c.url},[a(n,{height:200,src:c.url},null,8,["src"]),e("div",ct,v(c.name),1)]))),128))])],64)}}});function it(){const{data:o}=K(G.car,X,{revalidateOnFocus:!1,dedupingInterval:864e5});return{cars:g(()=>o.value||[])}}const dt={class:"row q-mb-sm"},_t={class:"col-5"},pt={class:"col-7 row justify-end"},mt=E({__name:"CarRightTable",props:{height:{}},setup(o){const{cars:t}=it(),s=B(null),n=$=>({style:{cursor:"pointer"},onClick:()=>{s.value=$,y()}}),c=[{title:"\u8F66\u724C\u53F7",key:"car_id",align:"center"},{title:"\u8F66\u8F86\u8BC6\u522B\u4EE3\u7801(VIN)",key:"vin",align:"center"},{title:"\u53D1\u52A8\u673A\u53F7",key:"ein",align:"center"},{title:"\u6392\u653E\u9636\u6BB5",key:"stage",align:"center"}],m=[{title:"\u73AF\u4FDD\u767B\u8BB0\u7F16\u7801",key:"hin",align:"center"},{title:"\u673A\u68B0\u73AF\u4FDD\u4EE3\u7801",key:"jin",align:"center"},{title:"\u6392\u653E\u9636\u6BB5",key:"stage",align:"center"},{title:"\u751F\u4EA7\u65E5\u671F",key:"date_produce",align:"center"}],d=g(()=>b.value==="\u573A\u5185\u8FD0\u8F93"?c:m),r=g(()=>({pageSize:20,size:"small",suffix:()=>"\u5171"+t.value.length+"\u6761",showQuickJumper:!0})),{bool:C,setTrue:y}=te(),h=B(""),f=B(""),b=B("\u573A\u5185\u8FD0\u8F93"),z=g(()=>{const $=t.value.filter(_=>_.car_type===b.value);return h.value.trim().length===0?$:$.filter(_=>_.car_id.includes(h.value)||_.vin.includes(h.value))});function S(){h.value="",f.value=""}return($,_)=>{const w=Z,T=qe,P=Fe,I=oe,M=ae,p=Q;return u(),q(p,{title:"\u8F66\u8F86\u7535\u5B50\u53F0\u8D26",style:{background:"rgba(2, 17, 39, 0.98)"}},{default:l(()=>[e("div",dt,[e("div",_t,[a(T,null,{default:l(()=>[a(w,{size:"small",type:"info",secondary:b.value!=="\u573A\u5185\u8FD0\u8F93",onClick:_[0]||(_[0]=R=>b.value="\u573A\u5185\u8FD0\u8F93")},{default:l(()=>[D(" \u573A\u5185\u8FD0\u8F93\u8F66\u8F86\u7535\u5B50\u53F0\u8D26 ")]),_:1},8,["secondary"]),a(w,{size:"small",type:"info",secondary:b.value==="\u573A\u5185\u8FD0\u8F93",onClick:_[1]||(_[1]=R=>b.value="\u975E\u9053\u8DEF\u79FB\u52A8\u673A\u68B0")},{default:l(()=>[D(" \u975E\u9053\u8DEF\u79FB\u52A8\u673A\u68B0\u7535\u5B50\u53F0\u8D26 ")]),_:1},8,["secondary"])]),_:1})]),e("div",pt,[a(P,{class:"col-6",value:f.value,"onUpdate:value":_[2]||(_[2]=R=>f.value=R),placeholder:"\u8BF7\u8F93\u5165\u8F66\u724C\u53F7/\u8F66\u8F86\u8BC6\u522B\u4EE3\u53F7",size:"small"},null,8,["value"]),a(w,{class:"q-ml-md",type:"info",size:"small",onClick:_[3]||(_[3]=R=>h.value=f.value)},{default:l(()=>[D(" \u67E5\u8BE2 ")]),_:1}),a(w,{type:"info",size:"small",class:"q-mx-md",onClick:S},{default:l(()=>[D(" \u91CD\u7F6E ")]),_:1})])]),a(I,{columns:d.value,"row-props":n,data:z.value,pagination:r.value,"max-height":$.height||300,striped:"",class:"sigma-table"},null,8,["columns","data","pagination","max-height"]),s.value?(u(),q(M,{key:0,modelValue:k(C),"onUpdate:modelValue":_[4]||(_[4]=R=>ie(C)?C.value=R:null),title:s.value.car_id,style:{width:"50vw"}},{default:l(()=>[a(pe,{car:s.value},null,8,["car"])]),_:1},8,["modelValue","title"])):x("",!0)]),_:1})}}}),vt=E({__name:"CarRing",props:{data:{}},setup(o){const t=o,s=["rgba(81, 238, 255, 1)","#ffb400","#3cc93c","rgba(255, 255, 0, 1)","rgba(112, 192, 255, 1)"],n=g(()=>t.data.map(r=>({value:r.percent,name:r.name+" "+(r.percent*100).toFixed(1)+"%"}))),c=g(()=>[{type:"pie",radius:["30%","50%"],center:["35%","50%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:4},label:{show:!1},data:n.value}]),m=g(()=>({title:{text:"\u6E05\u6D01\u8FD0\u8F93\u5360\u6BD4",left:0,top:50},color:s,legend:{right:0,top:"center",orient:"vertical",align:"left",textStyle:{color:"#fff",fontSize:18,fontWeight:"bold"}},series:c.value})),{domRef:d}=ye(m);return(r,C)=>(u(),F("div",{class:"fit",ref_key:"chartRef",ref:d},null,512))}});function gt(o){const t=g(()=>`${G.carCount}?time_start=${o.value.time_start}&time_end=${o.value.time_end}`),{data:s}=K(t,X,{revalidateOnFocus:!1,dedupingInterval:1e3*60*60*24});return{carCount:g(()=>s.value||[])}}const ht=o=>(W("data-v-67ca1736"),o=o(),J(),o),ft={class:"row fit"},bt={class:"col-5"},Ft={class:"col-7"},yt=ht(()=>e("thead",null,[e("tr",null,[e("th",{class:"bg-transparent text-info sigma-table-header-cell"}," \u8FD0\u8F93\u65B9\u5F0F "),e("th",{class:"bg-transparent text-info sigma-table-header-cell"}," \u8FD0\u8F93\u6B21\u6570 "),e("th",{class:"bg-transparent text-info sigma-table-header-cell"}," \u8FD0\u8F93\u8D27\u7269 "),e("th",{class:"bg-transparent text-info sigma-table-header-cell"}," \u8FD0\u8F93\u603B\u91CF ")])],-1)),Ct={class:"bg-transparent sigma-table-cell"},$t={class:"bg-transparent sigma-table-cell"},xt={class:"bg-transparent sigma-table-cell"},Dt={class:"bg-transparent sigma-table-cell text-primary"},kt=E({__name:"CarCount",setup(o){const t=[A().startOf("day").valueOf(),A().valueOf()],s=B([...t]),n=g(()=>A(s.value[0]).format("YYYY-MM-DD HH")+":00:00"),c=g(()=>A(s.value[1]).format("YYYY-MM-DD HH")+":00:00"),m=B({time_start:n.value,time_end:c.value}),{carCount:d}=gt(m);function r(){m.value={time_start:n.value,time_end:c.value}}function C(){s.value=[...t],m.value={time_start:n.value,time_end:c.value}}function y(h){return h>Date.now()}return(h,f)=>{const b=vt,z=se,S=ne,$=Z,_=re,w=le,T=ue,P=Ce,I=Pe,M=Q;return u(),q(M,{title:"\u8F66\u8F86\u8FD0\u8F93\u7EDF\u8BA1",style:{background:"rgba(2, 17, 39, 0.98)"}},{default:l(()=>[e("div",ft,[e("div",bt,[a(b,{data:k(d)},null,8,["data"])]),e("div",Ft,[a(w,{"label-placement":"left",size:"small",class:"q-my-md"},{default:l(()=>[a(_,{cols:24,"x-gap":8},{default:l(()=>[a(S,{span:19,label:"\u8D77\u6B62\u65F6\u95F4:","label-style":"color:#98f2fd"},{default:l(()=>[a(z,{value:s.value,"onUpdate:value":f[0]||(f[0]=p=>s.value=p),type:"datetimerange","is-date-disabled":y},null,8,["value"])]),_:1}),a(S,{span:5},{default:l(()=>[a($,{type:"info",size:"small",onClick:r},{default:l(()=>[D(" \u67E5\u8BE2 ")]),_:1}),a($,{type:"info",size:"small",class:"q-mx-md",onClick:C},{default:l(()=>[D(" \u91CD\u7F6E ")]),_:1})]),_:1})]),_:1})]),_:1}),a(T,null,{default:l(()=>[D("\u8FD0\u8F93\u8D27\u7269\u7EDF\u8BA1")]),_:1}),a(I,{class:"bg-transparent",bordered:!1},{default:l(()=>[yt,e("tbody",null,[(u(!0),F(L,null,U(k(d),p=>(u(),F("tr",{key:p.name},[e("td",Ct,v(p.name),1),e("td",$t,v(p.count),1),e("td",xt,[a(P,{style:{width:"200px"}},{default:l(()=>[D(v(p.content),1)]),_:2},1024)]),e("td",Dt,v(p.ton)+" \u5428 ",1)]))),128))])]),_:1})])])]),_:1})}}});var wt=V(kt,[["__scopeId","data-v-67ca1736"]]);const Bt={class:"full-width image-display"},Et={class:"row full-height"},zt={class:"col"},St={class:"col-auto"},qt=E({__name:"CarImageDisplay",props:{car:{}},setup(o){const t=o,s=B("");return de(()=>t.car,n=>{n.images.length>0&&(s.value=n.images[0].url)},{immediate:!0}),(n,c)=>{const m=N;return u(),F("div",Bt,[e("div",Et,[e("div",zt,[a(m,{src:s.value,height:740,width:680,"preview-disabled":""},null,8,["src"])]),e("div",St,[a($e,{style:{height:"740px",width:"328px"}},{default:l(()=>[(u(!0),F(L,null,U(n.car.images,d=>(u(),F("div",{key:d.url},[a(m,{src:d.url,width:328,"preview-disabled":"",class:"cursor-pointer",onClick:r=>s.value=d.url},null,8,["src","onClick"])]))),128))]),_:1})])])])}}});var Rt=V(qt,[["__scopeId","data-v-a59a7c8a"]]);const At=E({__name:"CarLeftTable",props:{cars:{},activeRow:{},height:{}},emits:[],setup(o,{emit:t}){const s=o,{activeRow:n}=Se(s,t),c=y=>({style:{cursor:"pointer"},onClick:()=>{n.value=y,C()}}),m=[{title:"\u65F6\u95F4",key:"datetime",align:"center"},{title:"\u8F66\u724C\u53F7",key:"car_id",align:"center"},{title:"\u72B6\u6001",key:"status",align:"center",render:function(y){const h=y.status==="\u8FDB\u5382"?"#63e2b7":"#ff9537";return ce("span",{style:{color:h}},y.status)}},{title:"\u95E8\u5C97SN",key:"door",align:"center"},{title:"\u6392\u653E\u9636\u6BB5",key:"stage",align:"center"},{title:"\u8D27\u7269\u540D\u79F0",key:"content",align:"center"},{title:"\u8FD0\u8F93\u91CF(t)",key:"ton",align:"center"}],d=g(()=>({pageSize:40,size:"small",suffix:()=>"\u5171"+s.cars.length+"\u6761",showQuickJumper:!0})),{bool:r,setTrue:C}=te();return(y,h)=>{const f=oe,b=ae;return u(),F("div",null,[a(f,{columns:m,"row-props":c,data:y.cars,pagination:d.value,"max-height":y.height||300,striped:"",class:"sigma-table"},null,8,["data","pagination","max-height"]),k(n)?(u(),q(b,{key:0,modelValue:k(r),"onUpdate:modelValue":h[0]||(h[0]=z=>ie(r)?r.value=z:null),title:k(n).car_id,style:{width:"50vw"}},{default:l(()=>[a(pe,{car:k(n)},null,8,["car"])]),_:1},8,["modelValue","title"])):x("",!0)])}}});const O=o=>(W("data-v-6907b084"),o=o(),J(),o),Tt={class:"car-info"},Pt={class:"row full-height items-center"},It={class:"col-auto"},Mt={class:"col text-center q-pl-sm",style:{"font-size":"18px"}},Vt={class:"row items-center q-col-gutter-sm"},Yt={class:"col-6 row"},Lt=O(()=>e("div",{class:"col-4 title-box shadow-1"},"\u8F66\u724C\u53F7:",-1)),Ot={class:"col-8 content-box text-primary"},jt={class:"col-6 row"},Ht=O(()=>e("div",{class:"col-4 title-box shadow-1"},"\u6392\u653E\u6807\u51C6:",-1)),Nt={class:"col-8 content-box text-primary"},Qt={class:"col-6 row"},Ut=O(()=>e("div",{class:"col-4 title-box shadow-1"},"\u8F66\u8F86\u8BC6\u522B\u4EE3\u53F7:",-1)),Wt={class:"col-8 content-box text-primary"},Jt={class:"col-6 row"},Kt=O(()=>e("div",{class:"col-4 title-box shadow-1"},"\u6CE8\u518C\u65E5\u671F:",-1)),Gt={class:"col-8 content-box text-primary"},Xt=E({__name:"CarLeftTop",props:{car:{}},setup(o){const t=o,s=g(()=>t.car.images?t.car.images[0].url:"");return(n,c)=>{const m=N;return u(),F("div",Tt,[e("div",Pt,[e("div",It,[a(m,{src:s.value,width:260},null,8,["src"])]),e("div",Mt,[e("div",Vt,[e("div",Yt,[Lt,e("div",Ot,v(n.car.car_id),1)]),e("div",jt,[Ht,e("div",Nt,v(n.car.stage),1)]),e("div",Qt,[Ut,e("div",Wt,v(n.car.vin),1)]),e("div",Jt,[Kt,e("div",Gt,v(n.car.date_register),1)])])])])])}}});var Zt=V(Xt,[["__scopeId","data-v-6907b084"]]);function eo(o){const t=g(()=>`${G.carTransport}?time_start=${o.value.time_start}&time_end=${o.value.time_end}`),{data:s}=K(t,X,{revalidateOnFocus:!1,dedupingInterval:1e3*60*60*24});return{cars:g(()=>s.value||[])}}const ee=o=>(W("data-v-64279cc4"),o=o(),J(),o),to={class:"row fit"},oo={class:"col-6 full-height"},ao={class:"col-6 full-height"},so={class:"column fit q-px-md q-pt-lg"},no={class:"col-auto"},ro={class:"col full-width q-py-md"},lo={class:"row bottom-wrapper text-center"},uo={class:"col-4 bottom-item"},co=ee(()=>e("span",{class:"text-info"}," \u56FDV ",-1)),io={class:"text-warning tape-font bottom-digit"},_o={class:"col-4 bottom-item"},po=ee(()=>e("span",{class:"text-info"}," \u56FDVI ",-1)),mo={class:"text-warning tape-font bottom-digit"},vo={class:"col-4 bottom-item"},go=ee(()=>e("span",{class:"text-info"}," \u65B0\u80FD\u6E90 ",-1)),ho={class:"text-warning tape-font bottom-digit"},fo=E({__name:"CarLeft",setup(o){const t=[A().subtract(1,"day").valueOf(),A().valueOf()],s=B([...t]),n=g(()=>A(s.value[0]).format("YYYY-MM-DD HH")+":00:00"),c=g(()=>A(s.value[1]).format("YYYY-MM-DD HH")+":00:00"),m=B({time_start:n.value,time_end:c.value}),{cars:d}=eo(m),r=B(null);de(()=>d.value,f=>{f.length>0&&(r.value=f[0])},{immediate:!0});function C(){m.value={time_start:n.value,time_end:c.value}}function y(){s.value=[...t],m.value={time_start:n.value,time_end:c.value}}function h(f){return f>Date.now()}return(f,b)=>{const z=se,S=ne,$=Z,_=re,w=le,T=Zt,P=At,I=Rt,M=Q;return u(),q(M,{title:"\u8FD0\u8F93\u8F66\u8F86\u7535\u5B50\u53F0\u8D26"},{default:l(()=>[e("div",to,[e("div",oo,[a(w,{"label-placement":"left",size:"small",class:"q-my-md"},{default:l(()=>[a(_,{cols:24,"x-gap":16},{default:l(()=>[a(S,{span:10,label:"\u8D77\u6B62\u65F6\u95F4:","label-style":"color:#98f2fd"},{default:l(()=>[a(z,{value:s.value,"onUpdate:value":b[0]||(b[0]=p=>s.value=p),type:"datetimerange","is-date-disabled":h},null,8,["value"])]),_:1}),a(S,{span:10},{default:l(()=>[a($,{type:"info",size:"small",onClick:C},{default:l(()=>[D(" \u67E5\u8BE2 ")]),_:1}),a($,{type:"info",size:"small",class:"q-mx-md",onClick:y},{default:l(()=>[D(" \u91CD\u7F6E ")]),_:1})]),_:1})]),_:1})]),_:1}),r.value?(u(),q(T,{key:0,car:r.value},null,8,["car"])):x("",!0),r.value?(u(),q(P,{key:1,"active-row":r.value,"onUpdate:activeRow":b[1]||(b[1]=p=>r.value=p),height:500,cars:k(d),class:"q-mt-md"},null,8,["active-row","cars"])):x("",!0)]),e("div",ao,[e("div",so,[e("div",no,[r.value?(u(),q(I,{key:0,car:r.value},null,8,["car"])):x("",!0)]),e("div",ro,[a(ue,null,{default:l(()=>[D("\u7D2F\u8BA1\u8F66\u8F86\u8FDB\u5382\u6570\u91CF")]),_:1}),e("div",lo,[e("div",uo,[co,e("span",io,v(k(d).filter(p=>p.stage==="\u56FDV").length),1)]),e("div",_o,[po,e("span",mo,v(k(d).filter(p=>p.stage==="\u56FDVI").length),1)]),e("div",vo,[go,e("span",ho,v(k(d).filter(p=>p.stage==="\u65B0\u80FD\u6E90").length),1)])])])])])])]),_:1})}}});var bo=V(fo,[["__scopeId","data-v-64279cc4"]]);const Fo={class:"col-8 full-height"},yo={class:"col-4 full-height"},Co={class:"column fit q-col-gutter-sm"},$o={class:"col-6"},xo={class:"col-6"},Do=E({__name:"TransPage",setup(o){return(t,s)=>{const n=wt,c=mt;return u(),q(xe,{class:"sigma-page fit row justify-between q-pa-md q-col-gutter-sm"},{default:l(()=>[e("div",Fo,[a(bo)]),e("div",yo,[e("div",Co,[e("div",$o,[a(n)]),e("div",xo,[a(c)])])])]),_:1})}}});var So=V(Do,[["__scopeId","data-v-63a00520"]]);export{So as default};
